(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{157:function(t,e,n){"use strict";n.r(e);n(175);var r=n(0),a=n.n(r),i=(n(176),n(177),n(8)),s=n.n(i),u=(n(179),n(164)),o=n(165),c=n(159),p=n.n(c),l=n(162),m=n.n(l),h=n(163),d=n.n(h),f=function(t){function e(){return t.apply(this,arguments)||this}return s()(e,t),e.prototype.render=function(){var t=this;return this.props.mini?a.a.createElement(p.a,{variant:"outline-danger",className:"minicup"},this.props.value):a.a.createElement(p.a,{variant:"outline-danger",size:"lg",className:"cup",onClick:function(){return t.props.onClick()}},this.props.value)},e}(a.a.Component),C=function(t){function e(){return t.apply(this,arguments)||this}s()(e,t);var n=e.prototype;return n.renderCup=function(t){var e=this;return a.a.createElement(f,{mini:this.props.mini,value:this.props.hittedCups.filter(function(e){return e.cupnum===t}).length,onClick:function(){return e.props.handleClick(t)}})},n.render=function(){return a.a.createElement(m.a,null,a.a.createElement(d.a,{className:"justify-content-center"},this.renderCup(0),this.renderCup(1),this.renderCup(2),this.renderCup(3)),a.a.createElement(d.a,{className:"justify-content-center"},this.renderCup(4),this.renderCup(5),this.renderCup(6)),a.a.createElement(d.a,{className:"justify-content-center"},this.renderCup(7),this.renderCup(8)),a.a.createElement(d.a,{className:"justify-content-center"},this.renderCup(9)))},e}(a.a.Component);var E=function(t){function e(){return t.apply(this,arguments)||this}return s()(e,t),e.prototype.render=function(){return function(t){if(t.length>0){var e=t.filter(function(t){return t.isMiss()}).length,n=t.filter(function(t){return!t.isMiss()}).length;return Math.round(n/(n+e)*100)}return 0}(this.props.hittedCups)+"%"},e}(a.a.Component),g=function(t){function e(){return t.apply(this,arguments)||this}return s()(e,t),e.prototype.render=function(){var t=this;return a.a.createElement(m.a,null,a.a.createElement(d.a,{className:"justify-content-center"},a.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"btn-miss",onClick:function(){return t.props.handleMiss()}},"Misses: ",this.props.game.numMisses()),a.a.createElement(p.a,{variant:"outline-primary",size:"lg",className:"btn-undo",onClick:function(){return t.props.handleUndo()}},a.a.createElement(u.a,{icon:o.c}))),a.a.createElement(C,{mini:!1,hittedCups:this.props.game.getHittedCups,handleClick:function(e){return t.props.handleClick(e)}}),a.a.createElement(d.a,{className:"justify-content-center"},"Hitrate: ",a.a.createElement(E,{hittedCups:this.props.game.getHittedCups})))},e}(a.a.Component),v=n(187),y=n.n(v),w=function(t){function e(){return t.apply(this,arguments)||this}return s()(e,t),e.prototype.render=function(){var t=this;return a.a.createElement(m.a,null,this.props.games.map(function(e,n){var r=[];return e.forEachHittedCup(function(t){return r.push(t)}),a.a.createElement(d.a,{key:n,className:"justify-content-center"},a.a.createElement(y.a,{md:"auto"},a.a.createElement(C,{mini:!0,hittedCups:r,handleClick:function(){}})),a.a.createElement(y.a,{md:"auto"},"Throws: ",e.numHits()," ",a.a.createElement("br",null),"Hitrate: ",a.a.createElement(E,{hittedCups:r})),a.a.createElement(y.a,{md:"auto"},a.a.createElement(p.a,{variant:"secondary",onClick:function(){return t.props.onResume(e)}},"Resume")),a.a.createElement(y.a,{md:"auto"},a.a.createElement(p.a,{variant:"outline-danger",onClick:function(){return t.props.onDelete(e)}},a.a.createElement(u.a,{icon:o.b}))))}))},e}(a.a.Component),G=n(188),H=n(190),k=n(191),I=function(t){function e(e){var n;n=t.call(this,e)||this;var r="undefined"!=typeof window&&window.localStorage.getItem("playerId")||k();return"undefined"!=typeof window&&window.localStorage.setItem("playerId",""+r),n.state={currentGame:new G,games:[],playerId:r},n.props.server.retrieveHits(r,function(t){}),n}s()(e,t);var n=e.prototype;return n.handleUndo=function(){var t=this.state.currentGame.removeLastHit();t&&(this.props.server.sendUndo(t),this.setState({currentGame:this.state.currentGame}))},n.handleMiss=function(){var t=new H(-1);this.props.server.sendHit(t,this.state.currentGame.getId(),this.state.playerId),this.state.currentGame.addHit(t),this.setState({currentGame:this.state.currentGame})},n.handleClick=function(t){var e=new H(t);this.props.server.sendHit(e,this.state.currentGame.getId(),this.state.playerId),this.state.currentGame.addHit(e),this.setState({currentGame:this.state.currentGame})},n.newGame=function(){if(0!==this.state.currentGame.numHits()){var t=this.state.games.slice();t.push(this.state.currentGame),t.sort(function(t,e){return e.lastAction-t.lastAction}),this.setState({currentGame:new G,games:t})}},n.deleteGame=function(t){var e=this;t.forEachHittedCup(function(t){return e.props.server.sendUndo(t)});var n=this.state.games.slice().filter(function(e){return e.getId()!=t.getId()});this.setState({games:n})},n.resumeGame=function(t){var e=this.state.games.slice().filter(function(e){return e.getId()!=t.getId()});this.state.currentGame.numHits()>0&&e.push(this.state.currentGame),e.sort(function(t,e){return e.lastAction-t.lastAction}),this.setState({currentGame:t,games:e})},n.render=function(){var t=this,e=[];return this.state.currentGame.forEachHittedCup(function(t){return e.push(t)}),this.state.games.forEach(function(t){return t.forEachHittedCup(function(t){return e.push(t)})}),a.a.createElement(m.a,null,a.a.createElement(d.a,{className:"justify-content-center",style:{paddingBottom:"6px"}},a.a.createElement(p.a,{onClick:function(){return t.newGame()}},"New Game"),a.a.createElement("div",{className:"text-center",style:{width:"130px",paddingTop:"5px"}},a.a.createElement("span",null,"Total ",a.a.createElement(u.a,{icon:o.a}),a.a.createElement(E,{hittedCups:e})))),a.a.createElement(d.a,null,a.a.createElement(g,{game:this.state.currentGame,handleClick:function(e){return t.handleClick(e)},handleMiss:function(){return t.handleMiss()},handleUndo:function(){return t.handleUndo()}})),a.a.createElement(d.a,null,a.a.createElement(w,{games:this.state.games,onResume:function(e){return t.resumeGame(e)},onDelete:function(e){return t.deleteGame(e)}})))},e}(a.a.Component),N=n(194),M=function(){function t(t){this.base=t}var e=t.prototype;return e.retrieveHits=function(t,e){N.get("http://localhost:8080/api/hits",{playerId:t})},e.sendHit=function(t,e,n){N.post("http://localhost:8080/api/hit",{timestamp:t.timestamp,cupnum:t.cupnum,gameId:e,playerId:n})},e.sendUndo=function(t){N.post("http://localhost:8080/api/undo",{timestamp:t.timestamp})},t}();e.default=function(){return a.a.createElement(I,{server:new M("http://localhost:8080/")})}},188:function(t,e,n){n(98),n(99);var r=n(189),a=function(){"use strict";function t(){this.id=Date.now(),this.lastAction=Date.now(),this.hittedCups=[]}var e=t.prototype;return e.getId=function(){return this.id},e.addHit=function(t){this.hittedCups.map(function(t){return t.timestamp}).includes(t.timestamp)||this.hittedCups.push(t)},e.removeLastHit=function(){return this.hittedCups.pop()},e.removeHit=function(t){this.hittedCups=this.hittedCups.filter(function(e){return e.timestamp!=t.timestamp})},e.numHits=function(){return this.hittedCups.length},e.numMisses=function(){return this.hittedCups.filter(function(t){return t.isMiss()}).length},e.forEachHittedCup=function(t){this.hittedCups.forEach(t)},r(t,[{key:"getHittedCups",get:function(){return this.hittedCups.slice()}}]),t}();t.exports=a},190:function(t,e){var n=function(){"use strict";function t(t,e){this.cupnum=t,this.timestamp=Date.now(),this.gameid=e}return t.prototype.isMiss=function(){return-1===this.cupnum},t}();t.exports=n}}]);
//# sourceMappingURL=component---src-pages-index-tsx-9568905ab1e30aad507e.js.map