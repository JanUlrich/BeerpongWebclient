(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{157:function(e,t,n){"use strict";n.r(t);n(170);var a=n(0),s=n.n(a),r=(n(171),n(172),n(174),n(8)),i=n.n(r),c=(n(176),n(177)),u=n(181),o=n(203),l=n.n(o),m=n(199),p=n.n(m),h=n(202),d=n.n(h),f=n(206),G=n.n(f),C=(n(182),function(e){this.cupnum=e,this.timestamp=Date.now()});var v=function(e){function t(t){var n;n=e.call(this,t)||this;var a=Date.now(),s=localStorage.getItem("playerId");return null!=s&&+s>0&&(a=+s),localStorage.setItem("playerId",""+a),n.state={currentGame:{id:Date.now(),misses:0,lastAction:Date.now(),cups:Array(10).fill(0),hittedCups:[]},games:[],playerId:a},n}i()(t,e);var n=t.prototype;return n.sendHitToServer=function(e){},n.sendUndoToServer=function(e){},n.handleUndo=function(){var e=this.state.currentGame.hittedCups.slice();if(e.length>0){var t=e.pop();if(null!=t)if(this.sendUndoToServer(t),-1===t.cupnum)this.setState({currentGame:{id:this.state.currentGame.id,misses:this.state.currentGame.misses-1,cups:this.state.currentGame.cups,lastAction:this.state.currentGame.lastAction,hittedCups:e}});else if(null!=t){var n=this.state.currentGame.cups.slice();n[t.cupnum]=n[t.cupnum]-1,this.setState({currentGame:{id:this.state.currentGame.id,misses:this.state.currentGame.misses,lastAction:this.state.currentGame.lastAction,cups:n,hittedCups:e}})}}},n.handleMiss=function(){var e=new C(-1);this.sendHitToServer(e);var t=this.state.currentGame.hittedCups.slice();t.push(e);var n=this.state.currentGame.misses+1;this.setState({currentGame:{id:this.state.currentGame.id,misses:n,cups:this.state.currentGame.cups,lastAction:Date.now(),hittedCups:t}})},n.handleClick=function(e){var t=new C(e);this.sendHitToServer(t);var n=this.state.currentGame.hittedCups.slice();n.push(t);var a=this.state.currentGame.cups.slice();a[e]=this.state.currentGame.cups[e]+1,this.setState({currentGame:{id:this.state.currentGame.id,cups:a,misses:this.state.currentGame.misses,lastAction:Date.now(),hittedCups:n}})},n.newGame=function(){if(this.state.currentGame.misses+this.state.currentGame.hittedCups.length!==0){var e,t,n=this.state.games.slice();n.push({id:(e=Math.ceil(0),t=Math.floor(4e9),Math.floor(Math.random()*(t-e))+e),lastAction:this.state.currentGame.lastAction,misses:this.state.currentGame.misses,cups:this.state.currentGame.cups,hittedCups:this.state.currentGame.hittedCups}),n.sort(function(e,t){return t.lastAction-e.lastAction}),this.setState({currentGame:{id:this.state.currentGame.id,misses:0,cups:Array(10).fill(0),lastAction:Date.now(),hittedCups:[]},games:n})}},n.deleteGame=function(e){var t=this;e.hittedCups.forEach(function(e){return t.sendUndoToServer(e)});var n=this.state.games.slice().filter(function(t){return t.id!=e.id});this.setState({games:n})},n.resumeGame=function(e){var t=this.state.games.slice().filter(function(t){return t.id!=e.id});t.push(this.state.currentGame),t.sort(function(e,t){return t.lastAction-e.lastAction}),this.setState({currentGame:e,games:t})},n.render=function(){var e=this;return s.a.createElement(p.a,null,s.a.createElement(d.a,{className:"justify-content-center",style:{paddingBottom:"6px"}},s.a.createElement(l.a,{onClick:function(){return e.newGame()}},"New Game"),s.a.createElement("div",{className:"text-center",style:{width:"130px"}},s.a.createElement("p",null,"Total Hitrate: ",E(this.state.currentGame.cups.concat(this.state.games.map(function(e){return e.cups}).reduce(function(e,t){return e.concat(t)},[])),this.state.currentGame.misses+this.state.games.map(function(e){return e.misses}).reduce(function(e,t){return e+t},0)),"%"))),s.a.createElement(d.a,null,s.a.createElement(g,{game:this.state.currentGame,handleClick:function(t){return e.handleClick(t)},handleMiss:function(){return e.handleMiss()},handleUndo:function(){return e.handleUndo()}})),s.a.createElement(d.a,null,s.a.createElement(k,{games:this.state.games,onResume:function(t){return e.resumeGame(t)},onDelete:function(t){return e.deleteGame(t)}})))},t}(s.a.Component);function E(e,t){var n=function(e,t){return e+t};return e.reduce(n)+t>0?Math.round(e.reduce(n)/(e.reduce(n)+t)*100):0}var g=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(p.a,null,s.a.createElement(d.a,{className:"justify-content-center"},s.a.createElement(l.a,{variant:"outline-primary",size:"lg",className:"btn-miss",onClick:function(){return e.props.handleMiss()}},"Misses: ",this.props.game.misses),s.a.createElement(l.a,{variant:"outline-primary",size:"lg",className:"btn-undo",onClick:function(){return e.props.handleUndo()}},s.a.createElement(c.a,{icon:u.a}))),s.a.createElement(y,{mini:!1,cups:this.props.game.cups,handleClick:function(t){return e.props.handleClick(t)}}),s.a.createElement(d.a,{className:"justify-content-center"},"Hitrate: ",E(this.props.game.cups,this.props.game.misses),"%"))},t}(s.a.Component),y=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.renderCup=function(e){var t=this;return s.a.createElement(w,{mini:this.props.mini,value:this.props.cups[e],onClick:function(){return t.props.handleClick(e)}})},n.render=function(){return s.a.createElement(p.a,null,s.a.createElement(d.a,{className:"justify-content-center"},this.renderCup(0),this.renderCup(1),this.renderCup(2),this.renderCup(3)),s.a.createElement(d.a,{className:"justify-content-center"},this.renderCup(4),this.renderCup(5),this.renderCup(6)),s.a.createElement(d.a,{className:"justify-content-center"},this.renderCup(7),this.renderCup(8)),s.a.createElement(d.a,{className:"justify-content-center"},this.renderCup(9)))},t}(s.a.Component),w=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){var e=this;return this.props.mini?s.a.createElement(l.a,{variant:"outline-danger",className:"minicup"},this.props.value):s.a.createElement(l.a,{variant:"outline-danger",size:"lg",className:"cup",onClick:function(){return e.props.onClick()}},this.props.value)},t}(s.a.Component),k=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){var e=this;this.props.onResume;return s.a.createElement(p.a,null,this.props.games.map(function(t,n){var a,r,i=function(e,t){return e+t};return s.a.createElement(d.a,{key:n},s.a.createElement(G.a,{sm:!0},s.a.createElement(y,{mini:!0,cups:t.cups,handleClick:function(){}})),s.a.createElement(G.a,{sm:!0},s.a.createElement(d.a,null,"Throws: ",t.cups.reduce(i)+t.misses),s.a.createElement(d.a,null,"Hitrate: ",(a=t.cups,r=t.misses,a.reduce(i)+r>0?Math.round(a.reduce(i)/(a.reduce(i)+r)*100):0),"%")),s.a.createElement(G.a,{sm:!0},s.a.createElement(l.a,{variant:"secondary",onClick:function(){return e.props.onResume(t)}},"Resume Game")),s.a.createElement(G.a,{sm:!0},s.a.createElement(l.a,{variant:"danger",onClick:function(){return e.props.onDelete(t)}},"Delete Game")))}))},t}(s.a.Component),A=v;t.default=function(){return s.a.createElement(A,null)}}}]);
//# sourceMappingURL=component---src-pages-index-tsx-c646a7057fba37e64805.js.map