{"version":3,"sources":["webpack:///./src/components/Cup.tsx","webpack:///./src/components/Cups.tsx","webpack:///./src/components/Hitrate.tsx","webpack:///./src/components/Board.tsx","webpack:///./src/components/LastGames.tsx","webpack:///./src/components/App.tsx","webpack:///./src/components/Server.tsx","webpack:///./src/pages/index.tsx","webpack:///./src/components/Hit.tsx","webpack:///./src/components/Game.tsx"],"names":["Cup","render","_this","this","props","mini","react_default","a","createElement","Button_default","variant","className","value","size","onClick","React","Component","Cups","renderCup","i","components_Cup","hittedCups","filter","h","cupnum","length","handleClick","Container_default","Row_default","Hitrate","cups","misses","isMiss","hits","Math","round","calcHitrate","Board","handleMiss","game","numMisses","handleUndo","index_es","icon","faUndo","components_Cups","getHittedCups","components_Hitrate","LastGames","games","slice","sort","b","lastAction","map","LastGames_GameView","key","getId","onResume","onDelete","GameView","_this2","_React$Component2","call","state","fadeOut","_this3","forEachHittedCup","push","Collapse_default","in","onExited","Col_default","xs","md","numHits","setState","faTrash","Game","require","Hit","uuidv4","App","_React$Component","playerId","window","localStorage","getItem","match","setItem","currentGame","server","retrieveHits","forEach","g","includes","gameid","addHit","hit","removeLastHit","sendUndo","Date","now","sendHit","newGame","deleteGame","item","resumeGame","allHittedCups","style","paddingBottom","width","paddingTop","faCrosshairs","components_Board","components_LastGames","axios","Server","baseUrl","base","callback","get","params","then","res","data","d","timestamp","cup","post","__webpack_exports__","src_components_App","module","exports","id","undefined","pop","removeHit","func"],"mappings":"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","file":"component---src-pages-index-tsx-1224cc56a769fd22f934.js","sourcesContent":["import Button from \"react-bootstrap/Button\";\nimport React from \"react\";\n\ninterface CupProps{\n    mini: boolean,\n    value: number,\n    onClick: ()=>void\n  }\n  \n  class Cup extends React.Component<CupProps, {}> {\n    render() {\n      if(this.props.mini){\n        return (\n          <Button variant=\"outline-danger\" className=\"minicup\">\n          {this.props.value}\n          </Button>\n        );\n      }else{\n        return (\n          <Button variant=\"outline-danger\" size=\"lg\" className=\"cup\"\n          onClick={() => this.props.onClick()}>\n          {this.props.value}\n          </Button>\n        );\n      }\n    }\n  }\n\nexport default Cup;","import Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport React from \"react\";\nimport Cup from \"./Cup\";\n\ninterface CupsProps{\n    mini: boolean,\n    hittedCups: Hit[];\n    handleClick: (cup: number)=>void\n  }\n  \n  class Cups extends React.Component<CupsProps,{}>{\n    renderCup(i: number) {\n      return (<Cup mini={this.props.mini}\n        value={this.props.hittedCups.filter(h => h.cupnum === i).length}\n        onClick={() => this.props.handleClick(i)} />);\n    }\n  \n    render() {return(\n        <Container>\n          <Row className=\"justify-content-center\">\n            {this.renderCup(0)}\n            {this.renderCup(1)}\n            {this.renderCup(2)}\n            {this.renderCup(3)}\n          </Row>\n          <Row className=\"justify-content-center\">\n            {this.renderCup(4)}\n            {this.renderCup(5)}\n            {this.renderCup(6)}\n          </Row>\n          <Row className=\"justify-content-center\">\n            {this.renderCup(7)}\n            {this.renderCup(8)}\n          </Row>\n          <Row className=\"justify-content-center\">\n            {this.renderCup(9)}\n          </Row>\n        </Container>);\n      }   \n  }\n  \nexport default Cups;","import React from \"react\";\n\ninterface HitrateProps{\n    hittedCups: Hit[];\n}\n\nconst accumulation = (accumulator: number, currentValue: number) => accumulator + currentValue;\nfunction calcHitrate(cups: Hit[]){\n  if(cups.length > 0){\n    const misses = cups.filter(h => h.isMiss()).length;\n    const hits = cups.filter(h => !h.isMiss()).length;\n    return Math.round((hits/(hits + misses))*100)\n  }else{\n    return 0;\n  }\n}\n\nclass Hitrate extends React.Component<HitrateProps,{}>{\n    render(){\n        return calcHitrate(this.props.hittedCups)+\"%\"\n    }\n}\n\nexport default Hitrate;","\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport { faUndo } from '@fortawesome/free-solid-svg-icons'\nimport React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Cups from './Cups';\nimport Hitrate from './Hitrate';\n\ninterface BoardProps{\n    handleMiss: ()=>void;\n    handleClick: (cup: number)=>void;\n    handleUndo: ()=>void;\n    game: Game;\n  }\n  \nclass Board extends React.Component<BoardProps, {}> {\n\n    render() {\n      return (\n        <Container>\n          <Row className=\"justify-content-center\">\n            <Button variant=\"outline-primary\" size=\"lg\" className=\"btn-miss\"\n            onClick={() => this.props.handleMiss()}\n            >Misses: {this.props.game.numMisses()}</Button>\n            <Button variant=\"outline-primary\" size=\"lg\" className=\"btn-undo\"\n            onClick={() => this.props.handleUndo()}\n            ><FontAwesomeIcon icon={faUndo} /></Button>\n          </Row>\n          <Cups mini={false} hittedCups={this.props.game.getHittedCups} handleClick={(i) => this.props.handleClick(i)} />\n          <Row className=\"justify-content-center\">\n            Hitrate: <Hitrate hittedCups={this.props.game.getHittedCups} />\n          </Row>\n          </Container>\n      );\n    }\n  }\n  \n  export default Board;","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Collapse from 'react-bootstrap/Collapse';\nimport Cups from './Cups'\nimport Hitrate from './Hitrate';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\ninterface LastGamesProps{\n    onResume: (game: Game)=>void;\n    onDelete: (game: Game)=>void;\n    games: Game[];\n  }\n  \n  class LastGames extends React.Component<LastGamesProps, {}> {\n    render() {\n        const games = this.props.games.slice();\n        games.sort(function (a, b) {\n            return b.lastAction - a.lastAction;\n        });\n      return (\n        <Container>\n          {games.map((game)=>{\n              return <GameView key={game.getId()} game={game}\n              onResume={this.props.onResume}\n              onDelete={this.props.onDelete}\n                />;\n          })}\n        </Container>\n      );\n    }\n  }\n\ninterface GameViewProps{\n    game: Game;\n    onResume: (game: Game)=>void;\n    onDelete: (game: Game)=>void;\n}\n\ninterface GameViewState{\n    fadeOut: boolean;\n}\n\n  class GameView extends React.Component<GameViewProps, GameViewState>{\n      constructor(props: GameViewProps){\n          super(props);\n          this.state = {fadeOut: false};\n      }\n    render() {\n        const hittedCups:Hit[] = [];\n        this.props.game.forEachHittedCup(h => hittedCups.push(h));\n        return (\n            <Collapse in={!this.state.fadeOut} onExited={()=>this.props.onDelete(this.props.game)}>\n                <Row className=\"justify-content-center\">\n                <Col xs={4} md=\"auto\" ><Cups mini={true} hittedCups={hittedCups} handleClick={()=>{}} /></Col>\n                <Col xs={4} md=\"auto\">\n                  Throws: {this.props.game.numHits()} <br />\n                  Hitrate: <Hitrate hittedCups={hittedCups}/>\n              </Col>\n              <Col xs={4} md=\"auto\">\n              <Col md=\"auto\"><Button variant=\"secondary\" onClick={() => this.props.onResume(this.props.game)}>Resume</Button></Col>\n                <Col md=\"auto\"><Button variant=\"outline-danger\" onClick={() => this.setState({fadeOut: true})}><FontAwesomeIcon icon={faTrash} /></Button></Col>\n                </Col>\n              </Row>\n                </Collapse>);\n            }\n  }\n\n  export default LastGames;","import React from 'react';\nimport './App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCrosshairs } from '@fortawesome/free-solid-svg-icons'\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Server from './Server';\nimport Board from './Board';\nimport LastGames from './LastGames';\nimport Hitrate from './Hitrate';\nvar Game = require('./Game');\nvar Hit = require('./Hit');\nconst uuidv4 = require('uuid/v4');\n\ninterface GameState{\n  playerId: string;\n  currentGame: Game;\n  games: Game[];\n}\n\ninterface GameProps{\n  server: Server\n}\n\nclass App extends React.Component<GameProps, GameState> {\n  constructor(props: GameProps) {\n    super(props);\n    //Dieser Hack ist notwendig, da Gatsby localStorage nicht kennt\n    var playerId = typeof window !== 'undefined' && window.localStorage.getItem('playerId') \n                    || uuidv4();\n    if(!playerId.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i)){\n      playerId = uuidv4();\n    }\n    typeof window !== 'undefined' && window.localStorage.setItem(\"playerId\", \"\"+playerId);\n    this.state = {\n      currentGame: new Game(),\n      games: [],\n      playerId: playerId\n    };\n    this.props.server.retrieveHits(playerId, (hits) => {\n      const games: Game[] = this.state.games;\n        hits.forEach(h => {\n          if(!games.map(g=>g.getId()).includes(h.gameid)){\n            games.push(new Game(h.gameid));\n          }\n          games.forEach(g=>{\n            if(g.getId() == h.gameid){\n              g.addHit(h);\n          }})\n        });\n        this.setState({games: games});\n    });\n  }\n  \n  handleUndo(){\n    const hit = this.state.currentGame.removeLastHit();\n    if(hit){\n      this.props.server.sendUndo(hit);\n      this.setState({currentGame : this.state.currentGame})\n    }\n  }\n\n  handleMiss(){\n    const hit = new Hit(Date.now(),-1,this.state.currentGame.getId());\n    this.props.server.sendHit(hit, this.state.playerId);\n    this.state.currentGame.addHit(hit);\n    this.setState({currentGame : this.state.currentGame})\n  }\n\n  handleClick(i: number) {\n    const hit = new Hit(Date.now(),i,this.state.currentGame.getId());\n    this.props.server.sendHit(hit, this.state.playerId);\n    this.state.currentGame.addHit(hit);\n    this.setState({currentGame : this.state.currentGame})\n  }\n\n  newGame(){\n    if(this.state.currentGame.numHits() === 0)return;\n    const games = this.state.games.slice();\n    games.push(this.state.currentGame);\n    this.setState({currentGame: new Game(Date.now()), \n    games: games,});\n  }\n\n  deleteGame(game: Game){\n    game.forEachHittedCup((hit)=>this.props.server.sendUndo(hit))\n    const games = this.state.games.slice().filter((item)=>{\n      return item.getId() != game.getId();\n    });\n    this.setState({\n      games: games,\n    });\n  }\n\n  resumeGame(game: Game){\n    //Remove game from games list:\n    const games = this.state.games.slice().filter((item)=>{\n      return item.getId() != game.getId();\n    });\n    if(this.state.currentGame.numHits() > 0){\n      //only push games which have at least one hit\n      games.push(this.state.currentGame);\n    }\n    //Set Game to currentGame:\n    this.setState({currentGame: game,\n    games: games, });\n  }\n\n  render() {\n    const allHittedCups:Hit[] = [];\n    this.state.currentGame.forEachHittedCup(h => allHittedCups.push(h));\n    this.state.games.forEach(g=>g.forEachHittedCup(h => allHittedCups.push(h)));\n    return (\n      <Container>\n        <Row className=\"justify-content-center\" style={{paddingBottom: \"6px\"}}>\n          <Button onClick={() => this.newGame()}>New Game</Button>\n          <div className=\"text-center\" style={{width: \"130px\", paddingTop: \"5px\"}}>\n            <span>Total <FontAwesomeIcon icon={faCrosshairs} /> \n            <Hitrate\n              hittedCups={allHittedCups} /></span></div>\n          </Row>\n          <Row>\n          <Board game={this.state.currentGame}\n            handleClick={(i) => this.handleClick(i)}\n            handleMiss={() => this.handleMiss()}\n            handleUndo={() => this.handleUndo()}\n          /></Row>\n          <Row>\n          <LastGames games={this.state.games}\n          onResume={(game) => this.resumeGame(game)}\n          onDelete={(game) => this.deleteGame(game)}\n          /></Row>\n        </Container>\n    );\n  }\n}\n\nexport default App;\n","import { any } from \"prop-types\";\n\nvar Hit = require('./Hit');\nconst axios = require('axios');\n\nclass Server{\n    private base:string;\n    constructor(baseUrl: string) {\n        this.base = baseUrl;\n      }\n    \n    retrieveHits(playerId: string, callback:(hits: Hit[])=>void){\n        axios.get(this.base + '/api/hits', {params: {playerId: playerId}}).then((res: {data: {\n                        timestamp: number;\n                        cupnum: number;\n                        gameid: number;\n                    }[]}) => {\n            callback(res.data.map(d=>new Hit(d.timestamp, d.cupnum, d.gameid)));\n        });\n    }\n\n    sendHit(cup: Hit, playerId: string){\n        axios.post(this.base + '/api/hit', {\n            timestamp: cup.timestamp,\n            cupnum: cup.cupnum,\n            gameid: cup.gameid,\n            playerId: playerId,\n        });\n      }\n    \n    sendUndo(cup: Hit){\n    axios.post(this.base + '/api/undo', {\n        timestamp: cup.timestamp,\n    });\n    }\n}\n\nexport default Server;","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from 'react';\nimport './index.css';\nimport App from '../components/App';\nimport Server from '../components/Server';\n\n\n\nexport default () => <App server={new Server(\"https://beebs.de\")}/>\n","class Hit {\n    cupnum: number;\n    timestamp: number;\n    gameid: number;\n    constructor(timestamp: number, cupnum: number, gameid: number){\n      this.timestamp = timestamp;\n      this.cupnum = cupnum;\n      this.gameid = gameid;\n    }\n    isMiss(){\n        return this.cupnum === -1;\n    }\n  }\n\n  module.exports = Hit;","class Game {\n    private id: number;\n    constructor(id: number){\n        if(id === undefined)id = Date.now();\n        this.id = id;\n        this.lastAction = 0;\n        this.hittedCups = [];\n    }\n    public lastAction: number;\n    private hittedCups: Hit[];\n  \n    getId(){return this.id;}\n\n    addHit(hit: Hit){\n        if(!this.hittedCups.map(h=>h.timestamp).includes(hit.timestamp)){\n            this.hittedCups.push(hit);\n            if(hit.timestamp > this.lastAction)this.lastAction = hit.timestamp;\n        }\n    }\n\n    removeLastHit(){\n        return this.hittedCups.pop();\n    }\n\n    removeHit(hit: Hit){\n        this.hittedCups = this.hittedCups.filter(h => h.timestamp != hit.timestamp);\n    }\n\n    numHits(){\n        return this.hittedCups.length;\n    }\n\n    numMisses(){\n        return this.hittedCups.filter(h => h.isMiss()).length;\n    }\n\n    forEachHittedCup(func: (hit: Hit)=>any){\n        this.hittedCups.forEach(func);\n    }\n\n    get getHittedCups(){\n        return this.hittedCups.slice();\n    }\n  }\n\n  module.exports = Game;"],"sourceRoot":""}