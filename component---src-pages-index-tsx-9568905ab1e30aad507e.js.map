{"version":3,"sources":["webpack:///./src/components/Cup.tsx","webpack:///./src/components/Cups.tsx","webpack:///./src/components/Hitrate.tsx","webpack:///./src/components/Board.tsx","webpack:///./src/components/LastGames.tsx","webpack:///./src/components/App.tsx","webpack:///./src/components/Server.tsx","webpack:///./src/pages/index.tsx","webpack:///./src/components/Game.tsx","webpack:///./src/components/Hit.tsx"],"names":["Cup","render","_this","this","props","mini","react_default","a","createElement","Button_default","variant","className","value","size","onClick","React","Component","Cups","renderCup","i","components_Cup","hittedCups","filter","h","cupnum","length","handleClick","Container_default","Row_default","Hitrate","cups","misses","isMiss","hits","Math","round","calcHitrate","Board","handleMiss","game","numMisses","handleUndo","index_es","icon","faUndo","components_Cups","getHittedCups","components_Hitrate","LastGames","games","map","forEachHittedCup","push","key","Col_default","md","numHits","onResume","onDelete","faTrash","Game","require","Hit","uuidv4","App","_React$Component","call","playerId","window","localStorage","getItem","setItem","state","currentGame","server","retrieveHits","hit","removeLastHit","sendUndo","setState","sendHit","getId","addHit","newGame","slice","sort","b","lastAction","deleteGame","_this2","item","resumeGame","_this3","allHittedCups","forEach","g","style","paddingBottom","width","paddingTop","faCrosshairs","components_Board","components_LastGames","axios","Server","baseUrl","base","callback","get","cup","gameId","post","timestamp","__webpack_exports__","src_components_App","id","Date","now","includes","pop","removeHit","func","module","exports","gameid"],"mappings":"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","file":"component---src-pages-index-tsx-9568905ab1e30aad507e.js","sourcesContent":["import Button from \"react-bootstrap/Button\";\nimport React from \"react\";\n\ninterface CupProps{\n    mini: boolean,\n    value: number,\n    onClick: ()=>void\n  }\n  \n  class Cup extends React.Component<CupProps, {}> {\n    render() {\n      if(this.props.mini){\n        return (\n          <Button variant=\"outline-danger\" className=\"minicup\">\n          {this.props.value}\n          </Button>\n        );\n      }else{\n        return (\n          <Button variant=\"outline-danger\" size=\"lg\" className=\"cup\"\n          onClick={() => this.props.onClick()}>\n          {this.props.value}\n          </Button>\n        );\n      }\n    }\n  }\n\nexport default Cup;","import Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport React from \"react\";\nimport Cup from \"./Cup\";\n\ninterface CupsProps{\n    mini: boolean,\n    hittedCups: Hit[];\n    handleClick: (cup: number)=>void\n  }\n  \n  class Cups extends React.Component<CupsProps,{}>{\n    renderCup(i: number) {\n      return (<Cup mini={this.props.mini}\n        value={this.props.hittedCups.filter(h => h.cupnum === i).length}\n        onClick={() => this.props.handleClick(i)} />);\n    }\n  \n    render() {return(\n        <Container>\n          <Row className=\"justify-content-center\">\n            {this.renderCup(0)}\n            {this.renderCup(1)}\n            {this.renderCup(2)}\n            {this.renderCup(3)}\n          </Row>\n          <Row className=\"justify-content-center\">\n            {this.renderCup(4)}\n            {this.renderCup(5)}\n            {this.renderCup(6)}\n          </Row>\n          <Row className=\"justify-content-center\">\n            {this.renderCup(7)}\n            {this.renderCup(8)}\n          </Row>\n          <Row className=\"justify-content-center\">\n            {this.renderCup(9)}\n          </Row>\n        </Container>);\n      }   \n  }\n  \nexport default Cups;","import React from \"react\";\n\ninterface HitrateProps{\n    hittedCups: Hit[];\n}\n\nconst accumulation = (accumulator: number, currentValue: number) => accumulator + currentValue;\nfunction calcHitrate(cups: Hit[]){\n  if(cups.length > 0){\n    const misses = cups.filter(h => h.isMiss()).length;\n    const hits = cups.filter(h => !h.isMiss()).length;\n    return Math.round((hits/(hits + misses))*100)\n  }else{\n    return 0;\n  }\n}\n\nclass Hitrate extends React.Component<HitrateProps,{}>{\n    render(){\n        return calcHitrate(this.props.hittedCups)+\"%\"\n    }\n}\n\nexport default Hitrate;","\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport { faUndo } from '@fortawesome/free-solid-svg-icons'\nimport React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Cups from './Cups';\nimport Hitrate from './Hitrate';\n\ninterface BoardProps{\n    handleMiss: ()=>void;\n    handleClick: (cup: number)=>void;\n    handleUndo: ()=>void;\n    game: Game;\n  }\n  \nclass Board extends React.Component<BoardProps, {}> {\n\n    render() {\n      return (\n        <Container>\n          <Row className=\"justify-content-center\">\n            <Button variant=\"outline-primary\" size=\"lg\" className=\"btn-miss\"\n            onClick={() => this.props.handleMiss()}\n            >Misses: {this.props.game.numMisses()}</Button>\n            <Button variant=\"outline-primary\" size=\"lg\" className=\"btn-undo\"\n            onClick={() => this.props.handleUndo()}\n            ><FontAwesomeIcon icon={faUndo} /></Button>\n          </Row>\n          <Cups mini={false} hittedCups={this.props.game.getHittedCups} handleClick={(i) => this.props.handleClick(i)} />\n          <Row className=\"justify-content-center\">\n            Hitrate: <Hitrate hittedCups={this.props.game.getHittedCups} />\n          </Row>\n          </Container>\n      );\n    }\n  }\n  \n  export default Board;","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Cups from './Cups'\nimport Hitrate from './Hitrate';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\ninterface LastGamesProps{\n    onResume: (game: Game)=>void;\n    onDelete: (game: Game)=>void;\n    games: Game[];\n  }\n  \n  class LastGames extends React.Component<LastGamesProps, {}> {\n    render() {\n      return (\n          //TODO: Hier eine Tranistion einbauen\n        <Container>\n          {this.props.games.map((game, i)=>{\n              const hittedCups:Hit[] = [];\n              game.forEachHittedCup(h => hittedCups.push(h));\n            return (\n              <Row key={i} className=\"justify-content-center\">\n              <Col md=\"auto\"><Cups mini={true} hittedCups={hittedCups} handleClick={()=>{}} /></Col>\n              <Col md=\"auto\">\n                Throws: {game.numHits()} <br />\n                Hitrate: <Hitrate hittedCups={hittedCups}/>\n            </Col>\n            <Col md=\"auto\"><Button variant=\"secondary\" onClick={() => this.props.onResume(game)}>Resume</Button></Col>\n              <Col md=\"auto\"><Button variant=\"outline-danger\" onClick={() => this.props.onDelete(game)}><FontAwesomeIcon icon={faTrash} /></Button></Col>\n              \n              \n            </Row>);\n          })}\n        </Container>\n      );\n    }\n  }\n\n  export default LastGames;","import React from 'react';\nimport './App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCrosshairs } from '@fortawesome/free-solid-svg-icons'\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Server from './Server';\nimport Board from './Board';\nimport LastGames from './LastGames';\nimport Hitrate from './Hitrate';\nvar Game = require('./Game');\nvar Hit = require('./Hit');\nconst uuidv4 = require('uuid/v4');\n\ninterface GameState{\n  playerId: string;\n  currentGame: Game;\n  games: Game[];\n}\n\ninterface GameProps{\n  server: Server\n}\n\nclass App extends React.Component<GameProps, GameState> {\n  constructor(props: GameProps) {\n    super(props);\n    //Dieser Hack ist notwendig, da Gatsby localStorage nicht kennt\n    var playerId = typeof window !== 'undefined' && window.localStorage.getItem('playerId') \n                    || uuidv4();\n    typeof window !== 'undefined' && window.localStorage.setItem(\"playerId\", \"\"+playerId);\n    this.state = {\n      currentGame: new Game(),\n      games: [],\n      playerId: playerId\n    };\n    this.props.server.retrieveHits(playerId, (hits) => {\n\n    })\n  }\n  \n  handleUndo(){\n    const hit = this.state.currentGame.removeLastHit();\n    if(hit){\n      this.props.server.sendUndo(hit);\n      this.setState({currentGame : this.state.currentGame})\n    }\n  }\n\n  handleMiss(){\n    const hit = new Hit(-1);\n    this.props.server.sendHit(hit, this.state.currentGame.getId(), this.state.playerId);\n    this.state.currentGame.addHit(hit);\n    this.setState({currentGame : this.state.currentGame})\n  }\n\n  handleClick(i: number) {\n    const hit = new Hit(i);\n    this.props.server.sendHit(hit, this.state.currentGame.getId(), this.state.playerId);\n    this.state.currentGame.addHit(hit);\n    this.setState({currentGame : this.state.currentGame})\n  }\n\n  newGame(){\n    if(this.state.currentGame.numHits() === 0)return;\n    const games = this.state.games.slice();\n    games.push(this.state.currentGame);\n    games.sort(function (a, b) {\n      return b.lastAction - a.lastAction;\n    });\n    this.setState({currentGame: new Game(), \n    games: games,});\n  }\n\n  deleteGame(game: Game){\n    game.forEachHittedCup((hit)=>this.props.server.sendUndo(hit))\n    const games = this.state.games.slice().filter((item)=>{\n      return item.getId() != game.getId();\n    });\n    this.setState({\n      games: games,\n    });\n  }\n\n  resumeGame(game: Game){\n    //Remove game from games list:\n    const games = this.state.games.slice().filter((item)=>{\n      return item.getId() != game.getId();\n    });\n    if(this.state.currentGame.numHits() > 0){\n      //only push games which have at least one hit\n      games.push(this.state.currentGame);\n    }\n    games.sort(function (a, b) {\n      return b.lastAction - a.lastAction;\n    });\n    //Set Game to currentGame:\n    this.setState({currentGame: game,\n    games: games, });\n  }\n\n  render() {\n    const allHittedCups:Hit[] = [];\n    this.state.currentGame.forEachHittedCup(h => allHittedCups.push(h));\n    this.state.games.forEach(g=>g.forEachHittedCup(h => allHittedCups.push(h)));\n    return (\n      <Container>\n        <Row className=\"justify-content-center\" style={{paddingBottom: \"6px\"}}>\n          <Button onClick={() => this.newGame()}>New Game</Button>\n          <div className=\"text-center\" style={{width: \"130px\", paddingTop: \"5px\"}}>\n            <span>Total <FontAwesomeIcon icon={faCrosshairs} /> \n            <Hitrate\n              hittedCups={allHittedCups} /></span></div>\n          </Row>\n          <Row>\n          <Board game={this.state.currentGame}\n            handleClick={(i) => this.handleClick(i)}\n            handleMiss={() => this.handleMiss()}\n            handleUndo={() => this.handleUndo()}\n          /></Row>\n          <Row>\n          <LastGames games={this.state.games}\n          onResume={(game) => this.resumeGame(game)}\n          onDelete={(game) => this.deleteGame(game)}\n          /></Row>\n        </Container>\n    );\n  }\n}\n\nexport default App;\n","\nconst axios = require('axios');\n\nclass Server{\n    private base:string;\n    constructor(baseUrl: string) {\n        this.base = baseUrl;\n      }\n    \n    retrieveHits(playerId: string, callback:(hits: Hit[])=>void){\n        axios.get('http://localhost:8080/api/hits', {playerId: playerId});\n    }\n\n    sendHit(cup: Hit, gameId: number, playerId: string){\n        //axios.post('https://beebs.de/api/hit', {\n        axios.post('http://localhost:8080/api/hit', {\n            timestamp: cup.timestamp,\n            cupnum: cup.cupnum,\n            gameId: gameId,\n            playerId: playerId,\n        });\n      }\n    \n    sendUndo(cup: Hit){\n    //axios.post('http://beebs.de/api/undo', {\n    axios.post('http://localhost:8080/api/undo', {\n        timestamp: cup.timestamp,\n    });\n    }\n}\n\nexport default Server;","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from 'react';\nimport './index.css';\nimport App from '../components/App';\nimport Server from '../components/Server';\n\n\n\nexport default () => <App server={new Server(\"http://localhost:8080/\")}/>\n","class Game {\n    private id: number;\n    constructor(){\n      this.id = Date.now();\n      this.lastAction = Date.now();\n      this.hittedCups = [];\n    }\n    public lastAction: number;\n    private hittedCups: Hit[];\n  \n    getId(){return this.id;}\n\n    addHit(hit: Hit){\n        if(!this.hittedCups.map(h=>h.timestamp).includes(hit.timestamp)){\n            this.hittedCups.push(hit);\n        }\n    }\n\n    removeLastHit(){\n        return this.hittedCups.pop();\n    }\n\n    removeHit(hit: Hit){\n        this.hittedCups = this.hittedCups.filter(h => h.timestamp != hit.timestamp);\n    }\n\n    numHits(){\n        return this.hittedCups.length;\n    }\n\n    numMisses(){\n        return this.hittedCups.filter(h => h.isMiss()).length;\n    }\n\n    forEachHittedCup(func: (hit: Hit)=>any){\n        this.hittedCups.forEach(func);\n    }\n\n    get getHittedCups(){\n        return this.hittedCups.slice();\n    }\n  }\n\n  module.exports = Game;","class Hit {\n    cupnum: number;\n    timestamp: number;\n    gameid: number;\n    constructor(cupnum: number, gameid: number){\n      this.cupnum = cupnum;\n      this.timestamp = Date.now();\n      this.gameid = gameid;\n    }\n    isMiss(){\n        return this.cupnum === -1;\n    }\n  }\n\n  module.exports = Hit;"],"sourceRoot":""}