{"version":3,"sources":["webpack:///./src/components/Cup.tsx","webpack:///./src/components/Cups.tsx","webpack:///./src/components/Hitrate.tsx","webpack:///./src/components/Board.tsx","webpack:///./src/components/LastGames.tsx","webpack:///./src/components/App.tsx","webpack:///./src/components/Server.tsx","webpack:///./src/pages/index.tsx","webpack:///./src/components/Hit.tsx","webpack:///./src/components/Game.tsx"],"names":["Cup","render","_this","this","props","mini","react_default","a","createElement","Button_default","variant","className","value","size","onClick","React","Component","Cups","renderCup","i","components_Cup","hittedCups","filter","h","cupnum","length","handleClick","Container_default","Row_default","Hitrate","cups","misses","isMiss","hits","Math","round","calcHitrate","Board","handleMiss","game","numMisses","handleUndo","index_es","icon","faUndo","components_Cups","getHittedCups","components_Hitrate","LastGames","games","map","LastGames_GameView","key","getId","onResume","onDelete","GameView","_this2","_React$Component2","call","state","fadeOut","_this3","forEachHittedCup","push","Collapse_default","in","onExited","Col_default","md","numHits","setState","faTrash","Game","require","Hit","uuidv4","App","_React$Component","playerId","window","localStorage","getItem","setItem","currentGame","server","retrieveHits","forEach","g","includes","gameid","addHit","hit","removeLastHit","sendUndo","Date","now","sendHit","newGame","slice","sort","b","lastAction","deleteGame","item","resumeGame","allHittedCups","style","paddingBottom","width","paddingTop","faCrosshairs","components_Board","components_LastGames","axios","Server","baseUrl","base","callback","get","params","then","res","data","d","timestamp","cup","post","__webpack_exports__","src_components_App","module","exports","id","undefined","pop","removeHit","func"],"mappings":"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","file":"component---src-pages-index-tsx-a99dd003b6cf739e4e68.js","sourcesContent":["import Button from \"react-bootstrap/Button\";\nimport React from \"react\";\n\ninterface CupProps{\n    mini: boolean,\n    value: number,\n    onClick: ()=>void\n  }\n  \n  class Cup extends React.Component<CupProps, {}> {\n    render() {\n      if(this.props.mini){\n        return (\n          <Button variant=\"outline-danger\" className=\"minicup\">\n          {this.props.value}\n          </Button>\n        );\n      }else{\n        return (\n          <Button variant=\"outline-danger\" size=\"lg\" className=\"cup\"\n          onClick={() => this.props.onClick()}>\n          {this.props.value}\n          </Button>\n        );\n      }\n    }\n  }\n\nexport default Cup;","import Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport React from \"react\";\nimport Cup from \"./Cup\";\n\ninterface CupsProps{\n    mini: boolean,\n    hittedCups: Hit[];\n    handleClick: (cup: number)=>void\n  }\n  \n  class Cups extends React.Component<CupsProps,{}>{\n    renderCup(i: number) {\n      return (<Cup mini={this.props.mini}\n        value={this.props.hittedCups.filter(h => h.cupnum === i).length}\n        onClick={() => this.props.handleClick(i)} />);\n    }\n  \n    render() {return(\n        <Container>\n          <Row className=\"justify-content-center\">\n            {this.renderCup(0)}\n            {this.renderCup(1)}\n            {this.renderCup(2)}\n            {this.renderCup(3)}\n          </Row>\n          <Row className=\"justify-content-center\">\n            {this.renderCup(4)}\n            {this.renderCup(5)}\n            {this.renderCup(6)}\n          </Row>\n          <Row className=\"justify-content-center\">\n            {this.renderCup(7)}\n            {this.renderCup(8)}\n          </Row>\n          <Row className=\"justify-content-center\">\n            {this.renderCup(9)}\n          </Row>\n        </Container>);\n      }   \n  }\n  \nexport default Cups;","import React from \"react\";\n\ninterface HitrateProps{\n    hittedCups: Hit[];\n}\n\nconst accumulation = (accumulator: number, currentValue: number) => accumulator + currentValue;\nfunction calcHitrate(cups: Hit[]){\n  if(cups.length > 0){\n    const misses = cups.filter(h => h.isMiss()).length;\n    const hits = cups.filter(h => !h.isMiss()).length;\n    return Math.round((hits/(hits + misses))*100)\n  }else{\n    return 0;\n  }\n}\n\nclass Hitrate extends React.Component<HitrateProps,{}>{\n    render(){\n        return calcHitrate(this.props.hittedCups)+\"%\"\n    }\n}\n\nexport default Hitrate;","\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport { faUndo } from '@fortawesome/free-solid-svg-icons'\nimport React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Cups from './Cups';\nimport Hitrate from './Hitrate';\n\ninterface BoardProps{\n    handleMiss: ()=>void;\n    handleClick: (cup: number)=>void;\n    handleUndo: ()=>void;\n    game: Game;\n  }\n  \nclass Board extends React.Component<BoardProps, {}> {\n\n    render() {\n      return (\n        <Container>\n          <Row className=\"justify-content-center\">\n            <Button variant=\"outline-primary\" size=\"lg\" className=\"btn-miss\"\n            onClick={() => this.props.handleMiss()}\n            >Misses: {this.props.game.numMisses()}</Button>\n            <Button variant=\"outline-primary\" size=\"lg\" className=\"btn-undo\"\n            onClick={() => this.props.handleUndo()}\n            ><FontAwesomeIcon icon={faUndo} /></Button>\n          </Row>\n          <Cups mini={false} hittedCups={this.props.game.getHittedCups} handleClick={(i) => this.props.handleClick(i)} />\n          <Row className=\"justify-content-center\">\n            Hitrate: <Hitrate hittedCups={this.props.game.getHittedCups} />\n          </Row>\n          </Container>\n      );\n    }\n  }\n  \n  export default Board;","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Collapse from 'react-bootstrap/Collapse';\nimport Cups from './Cups'\nimport Hitrate from './Hitrate';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\ninterface LastGamesProps{\n    onResume: (game: Game)=>void;\n    onDelete: (game: Game)=>void;\n    games: Game[];\n  }\n  \n  class LastGames extends React.Component<LastGamesProps, {}> {\n    render() {\n      return (\n        <Container>\n          {this.props.games.map((game)=>{\n              return <GameView key={game.getId()} game={game}\n              onResume={this.props.onResume}\n              onDelete={this.props.onDelete}\n                />;\n          })}\n        </Container>\n      );\n    }\n  }\n\ninterface GameViewProps{\n    game: Game;\n    onResume: (game: Game)=>void;\n    onDelete: (game: Game)=>void;\n}\n\ninterface GameViewState{\n    fadeOut: boolean;\n}\n\n  class GameView extends React.Component<GameViewProps, GameViewState>{\n      constructor(props: GameViewProps){\n          super(props);\n          this.state = {fadeOut: false};\n      }\n    render() {\n        const hittedCups:Hit[] = [];\n        this.props.game.forEachHittedCup(h => hittedCups.push(h));\n        return (\n            <Collapse in={!this.state.fadeOut} onExited={()=>this.props.onDelete(this.props.game)}>\n                <Row className=\"justify-content-center\">\n                <Col md=\"auto\"><Cups mini={true} hittedCups={hittedCups} handleClick={()=>{}} /></Col>\n                <Col md=\"auto\">\n                  Throws: {this.props.game.numHits()} <br />\n                  Hitrate: <Hitrate hittedCups={hittedCups}/>\n              </Col>\n              <Col md=\"auto\"><Button variant=\"secondary\" onClick={() => this.props.onResume(this.props.game)}>Resume</Button></Col>\n                <Col md=\"auto\"><Button variant=\"outline-danger\" onClick={() => this.setState({fadeOut: true})}><FontAwesomeIcon icon={faTrash} /></Button></Col>\n                \n              </Row>\n                </Collapse>);\n            }\n  }\n\n  export default LastGames;","import React from 'react';\nimport './App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCrosshairs } from '@fortawesome/free-solid-svg-icons'\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Server from './Server';\nimport Board from './Board';\nimport LastGames from './LastGames';\nimport Hitrate from './Hitrate';\nvar Game = require('./Game');\nvar Hit = require('./Hit');\nconst uuidv4 = require('uuid/v4');\n\ninterface GameState{\n  playerId: string;\n  currentGame: Game;\n  games: Game[];\n}\n\ninterface GameProps{\n  server: Server\n}\n\nclass App extends React.Component<GameProps, GameState> {\n  constructor(props: GameProps) {\n    super(props);\n    //Dieser Hack ist notwendig, da Gatsby localStorage nicht kennt\n    var playerId = typeof window !== 'undefined' && window.localStorage.getItem('playerId') \n                    || uuidv4();\n    typeof window !== 'undefined' && window.localStorage.setItem(\"playerId\", \"\"+playerId);\n    this.state = {\n      currentGame: new Game(),\n      games: [],\n      playerId: playerId\n    };\n    this.props.server.retrieveHits(playerId, (hits) => {\n      const games: Game[] = this.state.games;\n        hits.forEach(h => {\n          if(!games.map(g=>g.getId()).includes(h.gameid)){\n            games.push(new Game(h.gameid));\n          }\n          games.forEach(g=>{\n            if(g.getId() == h.gameid){\n              g.addHit(h);\n          }})\n        });\n        this.setState({games: games});\n    });\n  }\n  \n  handleUndo(){\n    const hit = this.state.currentGame.removeLastHit();\n    if(hit){\n      this.props.server.sendUndo(hit);\n      this.setState({currentGame : this.state.currentGame})\n    }\n  }\n\n  handleMiss(){\n    const hit = new Hit(Date.now(),-1,this.state.currentGame.getId());\n    this.props.server.sendHit(hit, this.state.playerId);\n    this.state.currentGame.addHit(hit);\n    this.setState({currentGame : this.state.currentGame})\n  }\n\n  handleClick(i: number) {\n    const hit = new Hit(Date.now(),i,this.state.currentGame.getId());\n    this.props.server.sendHit(hit, this.state.playerId);\n    this.state.currentGame.addHit(hit);\n    this.setState({currentGame : this.state.currentGame})\n  }\n\n  newGame(){\n    if(this.state.currentGame.numHits() === 0)return;\n    const games = this.state.games.slice();\n    games.push(this.state.currentGame);\n    games.sort(function (a, b) {\n      return b.lastAction - a.lastAction;\n    });\n    this.setState({currentGame: new Game(Date.now()), \n    games: games,});\n  }\n\n  deleteGame(game: Game){\n    game.forEachHittedCup((hit)=>this.props.server.sendUndo(hit))\n    const games = this.state.games.slice().filter((item)=>{\n      return item.getId() != game.getId();\n    });\n    this.setState({\n      games: games,\n    });\n  }\n\n  resumeGame(game: Game){\n    //Remove game from games list:\n    const games = this.state.games.slice().filter((item)=>{\n      return item.getId() != game.getId();\n    });\n    if(this.state.currentGame.numHits() > 0){\n      //only push games which have at least one hit\n      games.push(this.state.currentGame);\n    }\n    games.sort(function (a, b) {\n      return b.lastAction - a.lastAction;\n    });\n    //Set Game to currentGame:\n    this.setState({currentGame: game,\n    games: games, });\n  }\n\n  render() {\n    const allHittedCups:Hit[] = [];\n    this.state.currentGame.forEachHittedCup(h => allHittedCups.push(h));\n    this.state.games.forEach(g=>g.forEachHittedCup(h => allHittedCups.push(h)));\n    return (\n      <Container>\n        <Row className=\"justify-content-center\" style={{paddingBottom: \"6px\"}}>\n          <Button onClick={() => this.newGame()}>New Game</Button>\n          <div className=\"text-center\" style={{width: \"130px\", paddingTop: \"5px\"}}>\n            <span>Total <FontAwesomeIcon icon={faCrosshairs} /> \n            <Hitrate\n              hittedCups={allHittedCups} /></span></div>\n          </Row>\n          <Row>\n          <Board game={this.state.currentGame}\n            handleClick={(i) => this.handleClick(i)}\n            handleMiss={() => this.handleMiss()}\n            handleUndo={() => this.handleUndo()}\n          /></Row>\n          <Row>\n          <LastGames games={this.state.games}\n          onResume={(game) => this.resumeGame(game)}\n          onDelete={(game) => this.deleteGame(game)}\n          /></Row>\n        </Container>\n    );\n  }\n}\n\nexport default App;\n","import { any } from \"prop-types\";\n\nvar Hit = require('./Hit');\nconst axios = require('axios');\n\nclass Server{\n    private base:string;\n    constructor(baseUrl: string) {\n        this.base = baseUrl;\n      }\n    \n    retrieveHits(playerId: string, callback:(hits: Hit[])=>void){\n        axios.get(this.base + '/api/hits', {params: {playerId: playerId}}).then((res: {data: {\n                        timestamp: number;\n                        cupnum: number;\n                        gameid: number;\n                    }[]}) => {\n            callback(res.data.map(d=>new Hit(d.timestamp, d.cupnum, d.gameid)));\n        });\n    }\n\n    sendHit(cup: Hit, playerId: string){\n        axios.post(this.base + '/api/hit', {\n            timestamp: cup.timestamp,\n            cupnum: cup.cupnum,\n            gameid: cup.gameid,\n            playerId: playerId,\n        });\n      }\n    \n    sendUndo(cup: Hit){\n    axios.post(this.base + '/api/undo', {\n        timestamp: cup.timestamp,\n    });\n    }\n}\n\nexport default Server;","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from 'react';\nimport './index.css';\nimport App from '../components/App';\nimport Server from '../components/Server';\n\n\n\nexport default () => <App server={new Server(\"http://localhost:8080\")}/>\n","class Hit {\n    cupnum: number;\n    timestamp: number;\n    gameid: number;\n    constructor(timestamp: number, cupnum: number, gameid: number){\n      this.timestamp = timestamp;\n      this.cupnum = cupnum;\n      this.gameid = gameid;\n    }\n    isMiss(){\n        return this.cupnum === -1;\n    }\n  }\n\n  module.exports = Hit;","class Game {\n    private id: number;\n    constructor(id: number){\n        if(id === undefined)id = Date.now();\n        this.id = id;\n        this.lastAction = 0;\n        this.hittedCups = [];\n    }\n    public lastAction: number;\n    private hittedCups: Hit[];\n  \n    getId(){return this.id;}\n\n    addHit(hit: Hit){\n        if(!this.hittedCups.map(h=>h.timestamp).includes(hit.timestamp)){\n            this.hittedCups.push(hit);\n            if(hit.timestamp > this.lastAction)this.lastAction = hit.timestamp;\n        }\n    }\n\n    removeLastHit(){\n        return this.hittedCups.pop();\n    }\n\n    removeHit(hit: Hit){\n        this.hittedCups = this.hittedCups.filter(h => h.timestamp != hit.timestamp);\n    }\n\n    numHits(){\n        return this.hittedCups.length;\n    }\n\n    numMisses(){\n        return this.hittedCups.filter(h => h.isMiss()).length;\n    }\n\n    forEachHittedCup(func: (hit: Hit)=>any){\n        this.hittedCups.forEach(func);\n    }\n\n    get getHittedCups(){\n        return this.hittedCups.slice();\n    }\n  }\n\n  module.exports = Game;"],"sourceRoot":""}